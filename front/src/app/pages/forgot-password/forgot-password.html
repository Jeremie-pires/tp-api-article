<div id="forgot-password-container">
  <h2 id="forgot-title">Réinitialiser le mot de passe</h2>

  <div id="forgot-card" class="uk-card uk-card-default uk-card-body">
    <form id="forgot-form" class="uk-form-stacked" (ngSubmit)="resetPassword()" *ngIf="!isSuccess">
      
      <div id="email-field" class="uk-margin">
        <label class="uk-form-label" for="email-input">Adresse email</label>
        <div class="uk-form-controls">
          <input class="uk-input" id="email-input" type="email" [(ngModel)]="email" name="email" placeholder="votre@email.com" pattern="[^\s@]+@[^\s@]+\.[^\s@]+"title="Format requis: nom@domaine.com"required>
        </div>
        <div class="uk-text-small uk-text-muted uk-margin-small-top">
          Entrez votre adresse email pour recevoir un nouveau mot de passe
        </div>
      </div>

      <div id="error-message" class="uk-margin" *ngIf="message && !isSuccess">
        <div class="uk-alert-danger" uk-alert>
          <p>{{ message }}</p>
        </div>
      </div>

      <div id="forgot-actions" class="uk-margin">
        <button id="reset-btn" class="uk-button uk-button-primary" type="submit">
          Réinitialiser le mot de passe
        </button>
      </div>

      <div id="forgot-links" class="uk-text-center">
        <p>
          <a routerLink="/login">Retour à la connexion</a>
        </p>
      </div>

    </form>

    <div id="success-section" *ngIf="isSuccess">
      <div id="success-message" class="uk-alert-success" uk-alert>
        <p>{{ message }}</p>
      </div>
      
      <div id="new-password-display" class="uk-margin">
        <div class="uk-form-label">Votre nouveau mot de passe :</div>
        <div id="password-box" class="uk-input uk-form-large">
          <strong>{{ newPassword }}</strong>
        </div>
        <div class="uk-text-small uk-text-muted uk-margin-small-top">
          Notez bien ce mot de passe, vous en aurez besoin pour vous connecter
        </div>
      </div>

      <div id="success-actions" class="uk-margin uk-text-center">
        <a routerLink="/login" class="uk-button uk-button-primary">
          Se connecter maintenant
        </a>
      </div>
    </div>

  </div>
</div>
